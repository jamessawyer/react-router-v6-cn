<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>History库 | React Router V6</title>
    <meta name="description" content="React Router V6中文版">
    <link rel="stylesheet" href="/react-router-v6-cn/assets/style.0bb37bc6.css">
    <link rel="modulepreload" href="/react-router-v6-cn/assets/app.c2bcea2f.js">
    <link rel="modulepreload" href="/react-router-v6-cn/assets/bonus_history-apis.md.9e14b164.lean.js">
    
    <link rel="icon" href="/react-router-v6-cn/favicon.ico">
  <script>(()=>{const e=localStorage.getItem("vitepress-theme-appearance"),a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-66204374><!--[--><!--]--><!--[--><span tabindex="-1" data-v-40d8faed></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-40d8faed> Skip to content </a><!--]--><!----><header class="VPNav" data-v-66204374 data-v-574cb7e9><div class="VPNavBar has-sidebar" data-v-574cb7e9 data-v-23964494><div class="container" data-v-23964494><div class="VPNavBarTitle has-sidebar" data-v-23964494 data-v-6d41cef0><a class="title" href="/react-router-v6-cn/" data-v-6d41cef0><!--[--><img class="VPImage logo" src="/react-router-v6-cn/react.svg" data-v-427376cb><!--]--><!--[-->React Router V6<!--]--></a></div><div class="content" data-v-23964494><!----><!----><!----><div class="VPNavBarAppearance appearance" data-v-23964494 data-v-513bb74a><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" data-v-513bb74a data-v-57172cb8 data-v-eeb71742><span class="check" data-v-eeb71742><span class="icon" data-v-eeb71742><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-57172cb8><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-57172cb8><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-23964494 data-v-bcfe4bc6 data-v-3a84883f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-3a84883f><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-3a84883f><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-3a84883f><div class="VPMenu" data-v-3a84883f data-v-010f1d8c><!----><!--[--><!--[--><!----><div class="group" data-v-bcfe4bc6><div class="item appearance" data-v-bcfe4bc6><p class="label" data-v-bcfe4bc6>Appearance</p><div class="appearance-action" data-v-bcfe4bc6><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" data-v-bcfe4bc6 data-v-57172cb8 data-v-eeb71742><span class="check" data-v-eeb71742><span class="icon" data-v-eeb71742><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-57172cb8><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-57172cb8><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-23964494 data-v-702843d0><span class="container" data-v-702843d0><span class="top" data-v-702843d0></span><span class="middle" data-v-702843d0></span><span class="bottom" data-v-702843d0></span></span></button></div></div></div><!----></header><div class="VPLocalNav" data-v-66204374 data-v-a9a4d510><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a9a4d510><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-a9a4d510><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-a9a4d510>Menu</span></button><a class="top-link" href="#" data-v-a9a4d510> Return to top </a></div><aside class="VPSidebar" data-v-66204374 data-v-575b3a38><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-575b3a38><span class="visually-hidden" id="sidebar-aria-label" data-v-575b3a38> Sidebar Navigation </span><!--[--><div class="group" data-v-575b3a38><section class="VPSidebarGroup collapsible" data-v-575b3a38 data-v-4c0613ca><div class="title" role="button" data-v-4c0613ca><h2 class="title-text" data-v-4c0613ca>Ⅰ.Getting Started</h2><div class="action" data-v-4c0613ca><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-4c0613ca><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-4c0613ca><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-4c0613ca><!--[--><a class="VPLink link" href="/react-router-v6-cn/1/FAQs.html" data-v-4c0613ca data-v-4ac05124 data-v-0c96c854><!--[--><span class="link-text" data-v-4ac05124>FAQs</span><!--]--><!----></a><a class="VPLink link" href="/react-router-v6-cn/1/Main-Concepts.html" data-v-4c0613ca data-v-4ac05124 data-v-0c96c854><!--[--><span class="link-text" data-v-4ac05124>⚡主要概念</span><!--]--><!----></a><!--]--></div></section></div><div class="group" data-v-575b3a38><section class="VPSidebarGroup collapsible" data-v-575b3a38 data-v-4c0613ca><div class="title" role="button" data-v-4c0613ca><h2 class="title-text" data-v-4c0613ca>Ⅱ.Routers</h2><div class="action" data-v-4c0613ca><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-4c0613ca><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-4c0613ca><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-4c0613ca><!--[--><a class="VPLink link" href="/react-router-v6-cn/2/BrowserRouter.html" data-v-4c0613ca data-v-4ac05124 data-v-0c96c854><!--[--><span class="link-text" data-v-4ac05124>BrowserRouter</span><!--]--><!----></a><a class="VPLink link" href="/react-router-v6-cn/2/HashRouter.html" data-v-4c0613ca data-v-4ac05124 data-v-0c96c854><!--[--><span class="link-text" data-v-4ac05124>HashRouter</span><!--]--><!----></a><a class="VPLink link" href="/react-router-v6-cn/2/HistoryRouter.html" data-v-4c0613ca data-v-4ac05124 data-v-0c96c854><!--[--><span class="link-text" data-v-4ac05124>HistoryRouter</span><!--]--><!----></a><a class="VPLink link" href="/react-router-v6-cn/2/MemoryRouter.html" data-v-4c0613ca data-v-4ac05124 data-v-0c96c854><!--[--><span class="link-text" data-v-4ac05124>MemoryRouter</span><!--]--><!----></a><a class="VPLink link" href="/react-router-v6-cn/2/NativeRouter.html" data-v-4c0613ca data-v-4ac05124 data-v-0c96c854><!--[--><span class="link-text" data-v-4ac05124>NativeRouter</span><!--]--><!----></a><a class="VPLink link" href="/react-router-v6-cn/2/Router.html" data-v-4c0613ca data-v-4ac05124 data-v-0c96c854><!--[--><span class="link-text" data-v-4ac05124>Router</span><!--]--><!----></a><a class="VPLink link" href="/react-router-v6-cn/2/StaticRouter.html" data-v-4c0613ca data-v-4ac05124 data-v-0c96c854><!--[--><span class="link-text" data-v-4ac05124>StaticRouter</span><!--]--><!----></a><!--]--></div></section></div><div class="group" data-v-575b3a38><section class="VPSidebarGroup collapsible" data-v-575b3a38 data-v-4c0613ca><div class="title" role="button" data-v-4c0613ca><h2 class="title-text" data-v-4c0613ca>Ⅲ.Components</h2><div class="action" data-v-4c0613ca><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-4c0613ca><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-4c0613ca><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-4c0613ca><!--[--><a class="VPLink link" href="/react-router-v6-cn/3/Link.html" data-v-4c0613ca data-v-4ac05124 data-v-0c96c854><!--[--><span class="link-text" data-v-4ac05124>Link</span><!--]--><!----></a><a class="VPLink link" href="/react-router-v6-cn/3/Link-React-Native.html" data-v-4c0613ca data-v-4ac05124 data-v-0c96c854><!--[--><span class="link-text" data-v-4ac05124>Link(React Native)</span><!--]--><!----></a><a class="VPLink link" href="/react-router-v6-cn/3/NavLink.html" data-v-4c0613ca data-v-4ac05124 data-v-0c96c854><!--[--><span class="link-text" data-v-4ac05124>NavLink</span><!--]--><!----></a><a class="VPLink link" href="/react-router-v6-cn/3/Navigate.html" data-v-4c0613ca data-v-4ac05124 data-v-0c96c854><!--[--><span class="link-text" data-v-4ac05124>Navigate</span><!--]--><!----></a><a class="VPLink link" href="/react-router-v6-cn/3/Outlet.html" data-v-4c0613ca data-v-4ac05124 data-v-0c96c854><!--[--><span class="link-text" data-v-4ac05124>Outlet</span><!--]--><!----></a><a class="VPLink link" href="/react-router-v6-cn/3/Route-and-Routes.html" data-v-4c0613ca data-v-4ac05124 data-v-0c96c854><!--[--><span class="link-text" data-v-4ac05124>Route &amp; Routes</span><!--]--><!----></a><!--]--></div></section></div><div class="group" data-v-575b3a38><section class="VPSidebarGroup collapsible" data-v-575b3a38 data-v-4c0613ca><div class="title" role="button" data-v-4c0613ca><h2 class="title-text" data-v-4c0613ca>Ⅶ.Hooks</h2><div class="action" data-v-4c0613ca><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-4c0613ca><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-4c0613ca><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-4c0613ca><!--[--><a class="VPLink link" href="/react-router-v6-cn/4/useHref.html" data-v-4c0613ca data-v-4ac05124 data-v-0c96c854><!--[--><span class="link-text" data-v-4ac05124>useHref</span><!--]--><!----></a><a class="VPLink link" href="/react-router-v6-cn/4/useInRouterContext.html" data-v-4c0613ca data-v-4ac05124 data-v-0c96c854><!--[--><span class="link-text" data-v-4ac05124>useInRouterContext</span><!--]--><!----></a><a class="VPLink link" href="/react-router-v6-cn/4/useLinkClickHandler.html" data-v-4c0613ca data-v-4ac05124 data-v-0c96c854><!--[--><span class="link-text" data-v-4ac05124>useLinkClickHandler</span><!--]--><!----></a><a class="VPLink link" href="/react-router-v6-cn/4/useLinkPressHandler.html" data-v-4c0613ca data-v-4ac05124 data-v-0c96c854><!--[--><span class="link-text" data-v-4ac05124>useLinkPressHandler</span><!--]--><!----></a><a class="VPLink link" href="/react-router-v6-cn/4/useLocation.html" data-v-4c0613ca data-v-4ac05124 data-v-0c96c854><!--[--><span class="link-text" data-v-4ac05124>⚡useLocation</span><!--]--><!----></a><a class="VPLink link" href="/react-router-v6-cn/4/useMatch.html" data-v-4c0613ca data-v-4ac05124 data-v-0c96c854><!--[--><span class="link-text" data-v-4ac05124>⚡useMatch</span><!--]--><!----></a><a class="VPLink link" href="/react-router-v6-cn/4/useNavigate.html" data-v-4c0613ca data-v-4ac05124 data-v-0c96c854><!--[--><span class="link-text" data-v-4ac05124>⚡useNavigate</span><!--]--><!----></a><a class="VPLink link" href="/react-router-v6-cn/4/useNavigationType.html" data-v-4c0613ca data-v-4ac05124 data-v-0c96c854><!--[--><span class="link-text" data-v-4ac05124>useNavigationType</span><!--]--><!----></a><a class="VPLink link" href="/react-router-v6-cn/4/useOutlet.html" data-v-4c0613ca data-v-4ac05124 data-v-0c96c854><!--[--><span class="link-text" data-v-4ac05124>useOutlet</span><!--]--><!----></a><a class="VPLink link" href="/react-router-v6-cn/4/useOutletContext.html" data-v-4c0613ca data-v-4ac05124 data-v-0c96c854><!--[--><span class="link-text" data-v-4ac05124>⚡useOutletContext</span><!--]--><!----></a><a class="VPLink link" href="/react-router-v6-cn/4/useParams.html" data-v-4c0613ca data-v-4ac05124 data-v-0c96c854><!--[--><span class="link-text" data-v-4ac05124>useParams</span><!--]--><!----></a><a class="VPLink link" href="/react-router-v6-cn/4/useResolvedPath.html" data-v-4c0613ca data-v-4ac05124 data-v-0c96c854><!--[--><span class="link-text" data-v-4ac05124>useResolvedPath</span><!--]--><!----></a><a class="VPLink link" href="/react-router-v6-cn/4/useRoutes.html" data-v-4c0613ca data-v-4ac05124 data-v-0c96c854><!--[--><span class="link-text" data-v-4ac05124>useRoutes</span><!--]--><!----></a><a class="VPLink link" href="/react-router-v6-cn/4/useSearchParams.html" data-v-4c0613ca data-v-4ac05124 data-v-0c96c854><!--[--><span class="link-text" data-v-4ac05124>useSearchParams</span><!--]--><!----></a><a class="VPLink link" href="/react-router-v6-cn/4/useSearchParams-React-Native.html" data-v-4c0613ca data-v-4ac05124 data-v-0c96c854><!--[--><span class="link-text" data-v-4ac05124>useSearchParams(React Native)</span><!--]--><!----></a><!--]--></div></section></div><div class="group" data-v-575b3a38><section class="VPSidebarGroup collapsible" data-v-575b3a38 data-v-4c0613ca><div class="title" role="button" data-v-4c0613ca><h2 class="title-text" data-v-4c0613ca>V.Utilities</h2><div class="action" data-v-4c0613ca><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-4c0613ca><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-4c0613ca><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-4c0613ca><!--[--><a class="VPLink link" href="/react-router-v6-cn/5/createRoutesFromChildren.html" data-v-4c0613ca data-v-4ac05124 data-v-0c96c854><!--[--><span class="link-text" data-v-4ac05124>⚡createRoutesFromChildren</span><!--]--><!----></a><a class="VPLink link" href="/react-router-v6-cn/5/createSearchParams.html" data-v-4c0613ca data-v-4ac05124 data-v-0c96c854><!--[--><span class="link-text" data-v-4ac05124>createSearchParams</span><!--]--><!----></a><a class="VPLink link" href="/react-router-v6-cn/5/generatePath.html" data-v-4c0613ca data-v-4ac05124 data-v-0c96c854><!--[--><span class="link-text" data-v-4ac05124>generatePath</span><!--]--><!----></a><a class="VPLink link" href="/react-router-v6-cn/5/Location.html" data-v-4c0613ca data-v-4ac05124 data-v-0c96c854><!--[--><span class="link-text" data-v-4ac05124>Location</span><!--]--><!----></a><a class="VPLink link" href="/react-router-v6-cn/5/matchPath.html" data-v-4c0613ca data-v-4ac05124 data-v-0c96c854><!--[--><span class="link-text" data-v-4ac05124>matchPath</span><!--]--><!----></a><a class="VPLink link" href="/react-router-v6-cn/5/matchRoutes.html" data-v-4c0613ca data-v-4ac05124 data-v-0c96c854><!--[--><span class="link-text" data-v-4ac05124>⚡matchRoutes</span><!--]--><!----></a><a class="VPLink link" href="/react-router-v6-cn/5/renderMatches.html" data-v-4c0613ca data-v-4ac05124 data-v-0c96c854><!--[--><span class="link-text" data-v-4ac05124>renderMatches</span><!--]--><!----></a><a class="VPLink link" href="/react-router-v6-cn/5/resolvePath.html" data-v-4c0613ca data-v-4ac05124 data-v-0c96c854><!--[--><span class="link-text" data-v-4ac05124>resolvePath</span><!--]--><!----></a><!--]--></div></section></div><div class="group" data-v-575b3a38><section class="VPSidebarGroup collapsible collapsed" data-v-575b3a38 data-v-4c0613ca><div class="title" role="button" data-v-4c0613ca><h2 class="title-text" data-v-4c0613ca>Bonus</h2><div class="action" data-v-4c0613ca><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-4c0613ca><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-4c0613ca><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-4c0613ca><!--[--><a class="VPLink link active" href="/react-router-v6-cn/bonus/history-apis.html" data-v-4c0613ca data-v-4ac05124 data-v-0c96c854><!--[--><span class="link-text" data-v-4ac05124>History APIs</span><!--]--><!----></a><!--]--></div></section></div><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-66204374 data-v-0e4d175a><div class="VPDoc has-sidebar" data-v-0e4d175a data-v-542b5b3a><div class="container" data-v-542b5b3a><div class="aside" data-v-542b5b3a><div class="aside-curtain" data-v-542b5b3a></div><div class="aside-container" data-v-542b5b3a><div class="aside-content" data-v-542b5b3a><div class="VPDocAside" data-v-542b5b3a data-v-719cedd0><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline has-outline" data-v-719cedd0 data-v-090513d1><div class="content" data-v-090513d1><div class="outline-marker" data-v-090513d1></div><div class="outline-title" data-v-090513d1>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-090513d1><span class="visually-hidden" id="doc-outline-aria-label" data-v-090513d1> Table of Contents for current page </span><ul class="root" data-v-090513d1><!--[--><li style="" data-v-090513d1><a class="outline-link" href="#环境（environments）" data-v-090513d1>环境（Environments）</a><!----></li><li style="" data-v-090513d1><a class="outline-link" href="#监听（listening）" data-v-090513d1>监听（Listening）</a><!----></li><li style="" data-v-090513d1><a class="outline-link" href="#导航（navigation）" data-v-090513d1>导航（Navigation）</a><!----></li><li style="" data-v-090513d1><a class="outline-link" href="#确认导航（confirming-navigation）" data-v-090513d1>确认导航（Confirming Navigation）</a><!----></li><li style="" data-v-090513d1><a class="outline-link" href="#创建href值（creating-href-values）" data-v-090513d1>创建href值（Creating href values）</a><!----></li><li style="" data-v-090513d1><a class="outline-link" href="#动作（action）" data-v-090513d1>动作（Action）</a><!----></li><li style="" data-v-090513d1><a class="outline-link" href="#history接口" data-v-090513d1>History接口</a><!----></li><li style="" data-v-090513d1><a class="outline-link" href="#createbrowserhistory" data-v-090513d1>createBrowserHistory</a><!----></li><li style="" data-v-090513d1><a class="outline-link" href="#createpath-和-parsepath" data-v-090513d1>createPath 和 parsePath</a><!----></li><li style="" data-v-090513d1><a class="outline-link" href="#createhashhistory" data-v-090513d1>createHashHistory</a><!----></li><li style="" data-v-090513d1><a class="outline-link" href="#creatememoryhistory" data-v-090513d1>createMemoryHistory</a><!----></li><li style="" data-v-090513d1><a class="outline-link" href="#history-action" data-v-090513d1>history.action</a><!----></li><li style="" data-v-090513d1><a class="outline-link" href="#history-back" data-v-090513d1>history.back()</a><!----></li><li style="" data-v-090513d1><a class="outline-link" href="#history-block-blocker-blocker" data-v-090513d1>history.block(blocker: Blocker)</a><!----></li><li style="" data-v-090513d1><a class="outline-link" href="#history-createhref-to-to" data-v-090513d1>history.createHref(to: To)</a><!----></li><li style="" data-v-090513d1><a class="outline-link" href="#history-forward" data-v-090513d1>history.forward()</a><!----></li><li style="" data-v-090513d1><a class="outline-link" href="#history-go-delta-number" data-v-090513d1>history.go(delta: number)</a><!----></li><li style="" data-v-090513d1><a class="outline-link" href="#history-index" data-v-090513d1>history.index</a><!----></li><li style="" data-v-090513d1><a class="outline-link" href="#history-listen-listener-listener" data-v-090513d1>history.listen(listener: Listener)</a><!----></li><li style="" data-v-090513d1><a class="outline-link" href="#history-location" data-v-090513d1>history.location</a><!----></li><li style="" data-v-090513d1><a class="outline-link" href="#history-push-to-to-state-any" data-v-090513d1>history.push(to: To, state?: any)</a><!----></li><li style="" data-v-090513d1><a class="outline-link" href="#history-replace-to-to-state-any" data-v-090513d1>history.replace(to: To, state?: any)</a><!----></li><li style="" data-v-090513d1><a class="outline-link" href="#⭐-location" data-v-090513d1>⭐ Location</a><!----></li><li style="" data-v-090513d1><a class="outline-link" href="#state" data-v-090513d1>State</a><!----></li><li style="" data-v-090513d1><a class="outline-link" href="#to" data-v-090513d1>To</a><!----></li><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-719cedd0></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-542b5b3a><div class="content-container" data-v-542b5b3a><!--[--><!--]--><main class="main" data-v-542b5b3a><div style="position:relative;" class="vp-doc _react-router-v6-cn_bonus_history-apis" data-v-542b5b3a><div><p>这是 <a href="https://github.com/remix-run/history" target="_blank" rel="noopener noreferrer">history</a> 库的API参考。</p><p>History库使用包含了URLs和state的 <code>location</code> 对象，提供了用于追踪应用history的API。这个手册包含了库中接口的类型签名和返回值。如果你想知道如何使用这个库，完成特定的任务，请阅读 <a href="https://github.com/remix-run/history/blob/main/docs/getting-started.md" target="_blank" rel="noopener noreferrer">开始指南部分</a>。</p><h2 id="环境（environments）" tabindex="-1">环境（Environments） <a class="header-anchor" href="#环境（environments）" aria-hidden="true">#</a></h2><p>history库支持3种不同的环境，或操作模式：</p><ul><li><code>Browser history</code> 用于web应用</li><li><code>Hash history</code> 用于web应用，但由于某些原因你不想或不能发送URL给服务器的场景</li><li><code>Memory history</code> 用于原生应用（React Native）或测试</li></ul><p>对你目标环境选择合适的模式即可。</p><h2 id="监听（listening）" tabindex="-1">监听（Listening） <a class="header-anchor" href="#监听（listening）" aria-hidden="true">#</a></h2><p>为了读取当前location和action，分别使用 <code>history.location</code> 和 <code>history.action</code>。<strong>这两个属性都是可变和随着location变化而自动变化的</strong>。</p><h2 id="导航（navigation）" tabindex="-1">导航（Navigation） <a class="header-anchor" href="#导航（navigation）" aria-hidden="true">#</a></h2><p>为了改变当前location，你可以使用下面某一个操作：</p><ul><li><code>history.push</code> : 推送一个新的location到history栈中</li><li><code>history.replace</code> : 使用另一个location替换当前location</li><li><code>history.go</code> : 通过给定偏移量（<code>delta</code>）改变history栈当前索引</li><li><code>history.back</code> : 在history栈中向后导航一个条目</li><li><code>history.forward</code> : 在history栈中向前导航一个条目</li></ul><h2 id="确认导航（confirming-navigation）" tabindex="-1">确认导航（Confirming Navigation） <a class="header-anchor" href="#确认导航（confirming-navigation）" aria-hidden="true">#</a></h2><p>为了阻止当前location发生变化，使用 <code>history.block</code>。这个API允许你阻止location发生变化，因此你可以在页面跳转前向用户提出请求。</p><h2 id="创建href值（creating-href-values）" tabindex="-1">创建<code>href</code>值（Creating href values） <a class="header-anchor" href="#创建href值（creating-href-values）" aria-hidden="true">#</a></h2><p>如果你构建一个链接，你将使用 <code>history.createHref</code> 获取一个URL，它可以用作是 <code>&lt;a href&gt;</code> 的值。</p><h1 id="reference" tabindex="-1">Reference <a class="header-anchor" href="#reference" aria-hidden="true">#</a></h1><p><a href="https://github.com/remix-run/history/tree/main/packages/history" target="_blank" rel="noopener noreferrer">history</a> 的源码是通过TypeSript写的，但在发布前编译成JS了。参考手册中某些函数签名会包含它们的TS注解，但是你也可以参考源代码。</p><h2 id="动作（action）" tabindex="-1">动作（Action） <a class="header-anchor" href="#动作（action）" aria-hidden="true">#</a></h2><p>一个 <code>Action</code> 表示history栈中一种改变类型。<code>Action</code> 是一个枚举值，包含3个枚举成员：</p><ol><li><code>Action.Pop</code>: 在栈中对任意索引的变化，比如后退或前进导航。<strong>它没有描述导航的方向，只表示索引发生了变化🚨。</strong> 这是新创建的history对象的默认动作。</li><li><code>Action.Push</code>: 表示一个新的条目添加到history栈中了，比如当你点击一个链接，一个新页面加载时。当这发生时，栈中所有后续的条目都会丢失。</li><li><code>Action.Replace</code>: 表示在history中一个新的条目替换了当前条目</li></ol><h2 id="history接口" tabindex="-1">History接口 <a class="header-anchor" href="#history接口" aria-hidden="true">#</a></h2><p><code>History</code> 对象表示对 <code>BrowserHistory</code> &amp; <code>HashHistory</code> &amp; <code>MemoryHistory</code> 共享的接口。 类型声明：</p><div class="language-typescript"><span class="copy"></span><pre><code><span class="line"><span style="color:#C792EA;">interface</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">History</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">readonly</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">action</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Action</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">readonly</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">location</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Location</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">createHref</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">to</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">To</span><span style="color:#89DDFF;">):</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">push</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">to</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">To</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> state</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">any</span><span style="color:#89DDFF;">):</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">void</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">replace</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">to</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">To</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> state</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">any</span><span style="color:#89DDFF;">):</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">void</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">go</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">delta</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">number</span><span style="color:#89DDFF;">):</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">void</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">back</span><span style="color:#89DDFF;">():</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">void</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">forward</span><span style="color:#89DDFF;">():</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">void</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">listen</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">listener</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Listener</span><span style="color:#89DDFF;">):</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">void</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">block</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">blocker</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Blocker</span><span style="color:#89DDFF;">):</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">void</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="createbrowserhistory" tabindex="-1">createBrowserHistory <a class="header-anchor" href="#createbrowserhistory" aria-hidden="true">#</a></h2><p>类型声明：</p><div class="language-typescript"><span class="copy"></span><pre><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">createBrowserHistory</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  options</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">window</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Winddow</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">):</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">BrowserHistory</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">interface</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">BrowserHistory</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">History</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"></span></code></pre></div><p>📚浏览器history对象使用浏览器内置的history栈追踪应用的浏览历史。它被设计用于运行在支持HTML5 history接口的现代web浏览器，包括 <code>pushState</code>, <code>replaceState</code>和<code>popstate</code>事件。</p><p><code>createBrowserHistory</code> 返回一个 <code>BrowserHistory</code> 实例。<code>window</code> 默认是 <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/defaultView" target="_blank" rel="noopener noreferrer">当前document的defaultView</a>。</p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">createBrowserHistory</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">history</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> history </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">createBrowserHistory</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"></span></code></pre></div><h2 id="createpath-和-parsepath" tabindex="-1">createPath 和 parsePath <a class="header-anchor" href="#createpath-和-parsepath" aria-hidden="true">#</a></h2><p>类型声明：</p><div class="language-typescript"><span class="copy"></span><pre><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">createPath</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">partialPath</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Partial</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Path</span><span style="color:#89DDFF;">&gt;):</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">parsePath</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">path</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">):</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Partial</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Path</span><span style="color:#89DDFF;">&gt;;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">interface</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Path</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">pathname</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">search</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">hash</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p><code>createPath</code> 和 <code>parsePath</code> 分别用于创建和解析一个URL的路径。</p><div class="language-js"><span class="copy"></span><div class="highlight-lines"><br><br><br><br><div class="highlighted"> </div><br><br><div class="highlighted"> </div><br></div><pre><code><span class="line"><span style="color:#82AAFF;">createPath</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">pathname</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/login</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">search</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">?next=home</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// &#39;/login?next=home&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">parsePath</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/login?next=home</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// {pathname: &#39;/login&#39;, search: &#39;?next=home&#39;}</span></span>
<span class="line"></span></code></pre></div><h2 id="createhashhistory" tabindex="-1">createHashHistory <a class="header-anchor" href="#createhashhistory" aria-hidden="true">#</a></h2><p>类型声明：</p><div class="language-typescript"><span class="copy"></span><pre><code><span class="line"><span style="color:#82AAFF;">createHashHistory</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> window?</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> Window </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">): HashHistory</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">interface</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">HashHistory</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">History</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"></span></code></pre></div><p>hash history 对象使用浏览器内置的history栈追踪应用浏览历史。它被设计用于运行在支持HTML5 history接口的现代web浏览器，包括 <code>pushState</code>, <code>replaceState</code>和<code>popstate</code>事件。</p><p><code>createHashHistory</code> 返回一个 <code>HashHistory</code> 实例。<code>window</code> 默认是 <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/defaultView" target="_blank" rel="noopener noreferrer">当前document的defaultView</a>。</p><p>它和 <code>BrowserHistory</code> 主要差别是：hash history将当前location存储在 <a href="https://developer.mozilla.org/en-US/docs/Web/API/Location/hash#:~:text=The%20hash%20property%20of%20the,an%20empty%20string%2C%20%22%22%20." target="_blank" rel="noopener noreferrer">URL的hash部分中</a>，这意味着它永远不会发送到服务器。如果你将站点托管在一个不能完全控制服务器路由的域上，这将非常有用，或者，在Electron应用中，你不想对同一页面中不同的URLs配置不同的服务器。</p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">createHashHistory</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">history</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> history </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">createHashHistory</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"></span></code></pre></div><h2 id="creatememoryhistory" tabindex="-1">createMemoryHistory <a class="header-anchor" href="#creatememoryhistory" aria-hidden="true">#</a></h2><p>类型声明：</p><div class="language-typescript"><span class="copy"></span><pre><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">createMemoryHistory</span><span style="color:#89DDFF;">({</span></span>
<span class="line"><span style="color:#A6ACCD;">  initialEntries?: InitialEntry[]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  initialIndex?: number</span></span>
<span class="line"><span style="color:#89DDFF;">}):</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">MemoryHistory</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">type</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">InitialEntry</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Partial</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Location</span><span style="color:#89DDFF;">&gt;;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">interface</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">MemoryHistory</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">History</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">readonly</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">index</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">number</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>📒内存history对象使用内部数组追踪应用浏览历史。这很适用于你要完全控制history栈的场景，比如React Native和测试。 <code>createMemoryHistory</code> 返回 <code>MemoryHistory</code> 实例。你可以通过 <code>initialEntries</code> 属性给history实例提供初始条目，默认是 <code>[&#39;/&#39;]</code> （一个单一的在根 <code>/</code> URL处的location）。<code>initialIndex</code> 默认是 <code>initialEntries</code> 中最后一项。</p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">createMemoryHistory</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">history</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> history </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">createMemoryHistory</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 或者，预先为history实例添加一些urls</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> history </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">createMemoryHistory</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">initialEntries</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/home</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/proffile</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/about</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><h2 id="history-action" tabindex="-1">history.action <a class="header-anchor" href="#history-action" aria-hidden="true">#</a></h2><p>表示当前（最近）修改了history栈的 <code>Action</code>。这个属性是可变的，并且自动随着当前location变化而更新。 也可以查看上面的 <code>history.listen</code>。</p><h2 id="history-back" tabindex="-1">history.back() <a class="header-anchor" href="#history-back" aria-hidden="true">#</a></h2><p>📚返回上一个历史记录。它是 <code>history.go(-1)</code> 的别名。</p><p>可查看<a href="https://github.com/remix-run/history/blob/main/docs/navigation.md" target="_blank" rel="noopener noreferrer">Navigation指南</a>了解更多。</p><h2 id="history-block-blocker-blocker" tabindex="-1">history.block(blocker: Blocker) <a class="header-anchor" href="#history-block-blocker-blocker" aria-hidden="true">#</a></h2><p>类型声明：</p><div class="language-typescript"><span class="copy"></span><pre><code><span class="line"><span style="color:#C792EA;">interface</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Blocker</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">tx</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Transition</span><span style="color:#89DDFF;">):</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">void</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">interface</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Transition</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">action</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Action</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">location</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Location</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">retry</span><span style="color:#89DDFF;">():</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">void</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>阻止history栈发生改变。当你想阻止用户离开当前页面时很有用😎，比如，当用户在当前页面有些未保存的数据时。</p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#676E95;font-style:italic;">// 开始阻止location发生变化</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> unblock </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> history</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">block</span><span style="color:#A6ACCD;">((</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> action</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> location</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> retry </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)) </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// 跳转被阻止！</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 之后，可以调用上面返回的函数，再次允许页面跳转</span></span>
<span class="line"><span style="color:#82AAFF;">unblock</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"></span></code></pre></div><h2 id="history-createhref-to-to" tabindex="-1">history.createHref(to: To) <a class="header-anchor" href="#history-createhref-to-to" aria-hidden="true">#</a></h2><p>返回一个可用作 <code>&lt;a href&gt;</code> 的字符串值，用于导航到目的地址。</p><h2 id="history-forward" tabindex="-1">history.forward() <a class="header-anchor" href="#history-forward" aria-hidden="true">#</a></h2><p>📚向前跳转。它是 <code>history.go(1)</code> 的别名。</p><h2 id="history-go-delta-number" tabindex="-1">history.go(delta: number) <a class="header-anchor" href="#history-go-delta-number" aria-hidden="true">#</a></h2><p>向前或向后导航 <code>delta</code> 条目。</p><h2 id="history-index" tabindex="-1">history.index <a class="header-anchor" href="#history-index" aria-hidden="true">#</a></h2><p>history栈当前索引。</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>这个属性只存在于 <code>MemoryHistory</code> 实例上</p></div><h2 id="history-listen-listener-listener" tabindex="-1">history.listen(listener: Listener) <a class="header-anchor" href="#history-listen-listener-listener" aria-hidden="true">#</a></h2><p>类型声明：</p><div class="language-typescript"><span class="copy"></span><pre><code><span class="line"><span style="color:#C792EA;">interface</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Listener</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">update</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Update</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">void</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">interface</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Update</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">action</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Action</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">location</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Location</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>开始监听 <code>location</code> 的变化。当变化发生时，使用给定的 <code>Update</code> 类型回调。</p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#676E95;font-style:italic;">// 开始监听location的变化</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> unlisten </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> history</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">listen</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">({</span><span style="color:#A6ACCD;"> action</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> location </span><span style="color:#89DDFF;">})</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// 当前location发生了变化</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 当不想再监听，可取消监听</span></span>
<span class="line"><span style="color:#82AAFF;">unlisten</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>译者注：这是一个很典型的发布订阅模式（或观察者模式）</p></div><h2 id="history-location" tabindex="-1">history.location <a class="header-anchor" href="#history-location" aria-hidden="true">#</a></h2><p>当前 <code>location</code>。这个属性是可变的，并且随着当前loation发生变化而自动更新。</p><h2 id="history-push-to-to-state-any" tabindex="-1">history.push(to: To, state?: any) <a class="header-anchor" href="#history-push-to-to-state-any" aria-hidden="true">#</a></h2><p>向history栈中添加一条新的条目（<code>entry</code> 。译者注：每条entry都是一个 <code>location</code> 对象。）</p><h2 id="history-replace-to-to-state-any" tabindex="-1">history.replace(to: To, state?: any) <a class="header-anchor" href="#history-replace-to-to-state-any" aria-hidden="true">#</a></h2><p>使用新的entry取代当前entry。</p><h2 id="⭐-location" tabindex="-1">⭐ Location <a class="header-anchor" href="#⭐-location" aria-hidden="true">#</a></h2><p>类型声明：</p><div class="language-typescript"><span class="copy"></span><pre><code><span class="line"><span style="color:#C792EA;">interface</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Location</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">pathname</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">search</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">hash</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">state</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">unknown</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">key</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>👩🏻‍🏫 <code>location</code> 是history栈中特殊的entry，通常相当于你应用中的 <code>page</code> 或者 <code>screen</code>。当用户点击链接机型跳转时，当前location随之发生变化。</p><h3 id="location-pathname" tabindex="-1">location.pathname <a class="header-anchor" href="#location-pathname" aria-hidden="true">#</a></h3><p><code>location.pathname</code> 属性是一个以 <code>/</code> 开头，直到 <code>?</code> 结束的的URL部分字符串。</p><p>另可查看 <a href="https://developer.mozilla.org/en-US/docs/Web/API/URL/pathname" target="_blank" rel="noopener noreferrer">URL.pathname</a></p><h3 id="location-search" tabindex="-1">location.search <a class="header-anchor" href="#location-search" aria-hidden="true">#</a></h3><p><code>location.search</code> 属性是一个以 <code>?</code> 开头，后面跟着 <code>key=value</code> 对的查询字符串。如果不存在参数，则值可能是空字符串（即 <code>&#39;&#39;</code>）。</p><p>另可查看 <a href="https://developer.mozilla.org/en-US/docs/Web/API/URL/search" target="_blank" rel="noopener noreferrer">URL.search</a></p><h3 id="location-hash" tabindex="-1">location.hash <a class="header-anchor" href="#location-hash" aria-hidden="true">#</a></h3><p><code>location.hash</code> 属性是一个以 <code>#</code> 开头，后面跟着URL片段标识符的字符串，值可能是空字符串（即 <code>&#39;&#39;</code>）。</p><p>另可查看 <a href="https://developer.mozilla.org/en-US/docs/Web/API/URL/hash" target="_blank" rel="noopener noreferrer">URL.hash</a></p><h3 id="location-state" tabindex="-1">location.state <a class="header-anchor" href="#location-state" aria-hidden="true">#</a></h3><p><code>location.state</code> 属性是用户提供的 <code>State</code> 对象，它和当前location相关。<strong>这里可以用来存储任何你不想显示在URL的信息，比如 <code>session</code> 相关的数据🚀</strong>。</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>💡在web浏览器中，state使用浏览器内置的 <code>pushState</code>，<code>replaceState</code> &amp; <code>popstate</code> APIs管理</p></div><h3 id="location-key" tabindex="-1">location.key <a class="header-anchor" href="#location-key" aria-hidden="true">#</a></h3><p><code>location.key</code> 属性是和当前location相关联的 <strong><code>唯一性的</code></strong> 字符串。在最初始的location，它是字符串值为 <code>default</code>。后续的locations，字符串为唯一标识符。😎</p><p>🌰这对相同URL但是你需要追踪不同状态的情形下很有用。比如，你可以用它当做某些网络或者设备存在API的key。</p><h2 id="state" tabindex="-1">State <a class="header-anchor" href="#state" aria-hidden="true">#</a></h2><p><code>State</code> 是一个任意值，用来持有和当前<code>Location</code>相关的额外信息，但是又不出现在URL上。<strong>这个值总是和该location相关联。</strong></p><h2 id="to" tabindex="-1">To <a class="header-anchor" href="#to" aria-hidden="true">#</a></h2><p>类型定义：</p><div class="language-typescript"><span class="copy"></span><pre><code><span class="line"><span style="color:#C792EA;">type</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">To</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Partial</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Path</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">interface</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Path</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">pathname</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">search</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">hash</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p><code>To</code> 值表示目的地location,但是不同于一个 <code>location</code>对象那样，它不包含所有信息。它主要用作 <code>history.push()</code> &amp; <code>history.replace()</code> 的第一个参数。</p><p>2022年08月04日21:33:54</p></div></div></main><footer class="VPDocFooter" data-v-542b5b3a data-v-25535ebb><div class="edit-info" data-v-25535ebb><div class="edit-link" data-v-25535ebb><a class="VPLink link edit-link-button" href="https://github.com/jamessawyer/react-router-v6-cn/edit/main/docs/bonus/history-apis.md" target="_blank" rel="noopener noreferrer" data-v-25535ebb data-v-0c96c854><!--[--><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="edit-link-icon" data-v-25535ebb><path d="M18,23H4c-1.7,0-3-1.3-3-3V6c0-1.7,1.3-3,3-3h7c0.6,0,1,0.4,1,1s-0.4,1-1,1H4C3.4,5,3,5.4,3,6v14c0,0.6,0.4,1,1,1h14c0.6,0,1-0.4,1-1v-7c0-0.6,0.4-1,1-1s1,0.4,1,1v7C21,21.7,19.7,23,18,23z"></path><path d="M8,17c-0.3,0-0.5-0.1-0.7-0.3C7,16.5,6.9,16.1,7,15.8l1-4c0-0.2,0.1-0.3,0.3-0.5l9.5-9.5c1.2-1.2,3.2-1.2,4.4,0c1.2,1.2,1.2,3.2,0,4.4l-9.5,9.5c-0.1,0.1-0.3,0.2-0.5,0.3l-4,1C8.2,17,8.1,17,8,17zM9.9,12.5l-0.5,2.1l2.1-0.5l9.3-9.3c0.4-0.4,0.4-1.1,0-1.6c-0.4-0.4-1.2-0.4-1.6,0l0,0L9.9,12.5z M18.5,2.5L18.5,2.5L18.5,2.5z"></path></svg> 在GitHub编辑此页<!--]--><!----></a></div><div class="last-updated" data-v-25535ebb><p class="VPLastUpdated" data-v-25535ebb data-v-4e258763>Last updated: <time datatime="2022-08-04T13:52:14.000Z" data-v-4e258763></time></p></div></div><div class="prev-next" data-v-25535ebb><div class="pager" data-v-25535ebb><a class="pager-link prev" href="/react-router-v6-cn/5/resolvePath.html" data-v-25535ebb><span class="desc" data-v-25535ebb>Previous page</span><span class="title" data-v-25535ebb>resolvePath</span></a></div><div class="has-prev pager" data-v-25535ebb><!----></div></div></footer><!--[--><!--]--></div></div></div></div></div><!----><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"1_faqs.md\":\"40a45360\",\"1_main-concepts.md\":\"e37a3fb7\",\"2_browserrouter.md\":\"11277268\",\"2_hashrouter.md\":\"f673c2a2\",\"2_historyrouter.md\":\"a0c962bb\",\"2_memoryrouter.md\":\"e254dd64\",\"2_nativerouter.md\":\"33a7fa2c\",\"2_router.md\":\"4880e0fc\",\"2_staticrouter.md\":\"0da52e69\",\"3_link-react-native.md\":\"d46cc3ca\",\"3_link.md\":\"91e2b813\",\"3_navlink.md\":\"60bcf9ab\",\"3_navigate.md\":\"9d5c3dde\",\"3_outlet.md\":\"515d086c\",\"3_route-and-routes.md\":\"fd80e7f2\",\"4_usehref.md\":\"1ece4082\",\"4_useinroutercontext.md\":\"7331893a\",\"4_uselinkclickhandler.md\":\"a20bd278\",\"4_uselinkpresshandler.md\":\"bb6fc45b\",\"4_uselocation.md\":\"40f8ea62\",\"4_usematch.md\":\"3d93b045\",\"4_usenavigate.md\":\"6f293acf\",\"4_usenavigationtype.md\":\"c4fa7474\",\"4_useoutlet.md\":\"35337508\",\"4_useoutletcontext.md\":\"d63734ce\",\"4_useparams.md\":\"20fe34d9\",\"4_useresolvedpath.md\":\"4fc46151\",\"4_useroutes.md\":\"0740f7e1\",\"4_usesearchparams-react-native.md\":\"ec9065e5\",\"4_usesearchparams.md\":\"60745b37\",\"5_location.md\":\"bd788045\",\"5_createroutesfromchildren.md\":\"3c716bb0\",\"5_createsearchparams.md\":\"ee9a5680\",\"5_generatepath.md\":\"017c8820\",\"5_matchpath.md\":\"95e7a450\",\"5_matchroutes.md\":\"8e79bbe7\",\"5_rendermatches.md\":\"ec93e6a2\",\"5_resolvepath.md\":\"5ece7cd8\",\"bonus_history-apis.md\":\"9e14b164\"}")</script>
    <script type="module" async src="/react-router-v6-cn/assets/app.c2bcea2f.js"></script>
    
  </body>
</html>